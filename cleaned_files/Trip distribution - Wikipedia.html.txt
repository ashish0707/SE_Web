article includes list references related reading external links sources remain unclear lacks inline citations help improve article introducing precise citations 2016 learn remove template message article first-person second-person inappropriately rewrite formal encyclopedic tone 2016 trip distribution destination choice zonal interchange analysis component trip generation mode choice route assignment traditional four-step transportation forecasting model step matches tripmakers origins destinations develop trip table matrix displays number trips going origin destination historically component developed component transportation planning model table illustrative trip table origin destination 1 2 3 1 t11 t12 t13 t1z 2 t21 3 t31 tz1 tzz tij trips origin destination note practical trips diagonal zone 1 zone 1 intra-zonal trip occurs work trip distribution travel demand models understand people take jobs trip distribution models non-work activities choice location grocery shopping follow structure contents 1 history 2 mathematics 3 gravity model 4 entropy analysis 5 issues 5.1 congestion 5.2 stability travel times 6 7 footnotes 8 references historyedit years modelers formulations trip distribution fratar growth model differentiate trips purpose structure extrapolated base year trip table future based growth took account changing spatial accessibility due increased supply travel patterns congestion simple growth factor model furness model detroit model models developed time period models developed gravity model intervening opportunities model widely formulation gravity model studying traffic baltimore maryland alan voorhees developed mathematical formula predict traffic patterns based land formula instrumental design numerous transportation public works projects world wrote general theory traffic movement voorhees 1956 applied gravity model trip distribution translates trips generated area matrix identifies number trips origin destination loaded network evaluation model forms 1960s concluded gravity model intervening opportunity model proved equal reliability utility simulating 1948 1955 trip distribution washington dc heanue pyers 1966 fratar model shown weakness areas experiencing land comparisons models showed calibrated equally match observed conditions computational ease gravity models widely spread intervening opportunities models theoretical problems intervening opportunities model discussed whitaker west 1968 concerning inability account trips generated zone makes difficult calibrate techniques dealing limitations developed ruiter 1967 development logit discrete choice techniques demographically disaggregate approaches travel demand attempted including variables travel time determining probability making trip expected prediction travel behavior logit model gravity model shown wilson 1967 essentially form statistical mechanics entropy maximization model application models differs concept gravity model impedance travel time stratified socioeconomic variables determining probability trip making discrete choice approach brings variables inside utility impedance function discrete choice models require information estimate computational time ben-akiva lerman 1985 developed combination destination choice mode choice models logit formulation work non-work trips computational intensity formulations tended aggregate traffic zones larger districts rings estimation application models including instance transportation planning model portland oregon logit formulation destination choice allen 1984 utilities logit based mode choice model determining composite impedance trip distribution approach mode choice log-sums implies destination choice depends variables mode choice levinson kumar 1995 employ mode choice probabilities weighting factor develop specific impedance function f-curve mode work non-work trip purposes mathematicsedit point transportation planning process information zonal interchange analysis organized origin-destination table left listed trips produced zone top listed zones zone list attraction table number zones cell table number trips zone zone within-cell numbers row column totals data organized task fill cells tables headed t1 say tn actually home interview travel survey data attraction analysis cell information t1 data sample generalize sample universe techniques zonal interchange analysis explore empirical rule fits 1 data rule generate cell data 2 3 4 technique developed model zonal interchange involves model 1 displaystyle t_ijt_ifrac a_jfleftc_ijrightk_ijsum _j1na_jfleftc_ijrightk_ij displaystyle t_ij trips displaystyle t_i trips generation analysis displaystyle a_j trips attracted generation analysis displaystyle fc_ij travel cost friction factor say displaystyle c_ijb displaystyle k_ij calibration parameter zone generates ti trips zone depends attractiveness compared attractiveness places attractiveness tempered distance zone zone compute fraction comparing places multiply ti rule gravity form displaystyle t_ijafrac p_ip_jc_ijb displaystyle p_ip_j populations displaystyle ab parameters zonal interchange mode numbers related trip origins ti trip destinations tj populations lots model forms weights special calibration parameters write say displaystyle t_ijafrac t_ict_jdc_ijb displaystyle t_ijfrac ct_idt_jc_ijb parameters displaystyle c_ij travel cost distance money time displaystyle t_j inbound trips destinations displaystyle t_i outbound trips origin gravity modeledit gravity model illustrates macroscopic relationships places say homes workplaces long posited interaction locations declines increasing distance time cost positively amount activity location isard 1956 analogy physics reilly 1929 formulated reillys law retail gravitation stewart 1948 formulated definitions demographic gravitation force energy potential called accessibility hansen 1959 distance decay factor 1distance updated comprehensive function generalized cost necessarily linear - negative exponential tends preferred form gravity model corroborated times basic underlying aggregate relationship scott 1988 cervero 1989 levinson kumar 1995 rate decline interaction called alternatively impedance friction factor utility propensity function empirically measured varies context limiting usefulness gravity model aggregate nature policy operates aggregate level accurate analyses retain detailed level information long gravity model successful explaining choice large number individuals choice individual varies greatly predicted applied urban travel demand context disutilities primarily time distance cost discrete choice models application expansive utility expressions stratification income vehicle ownership mathematically gravity model takes form displaystyle t_ijk_ik_jt_it_jfc_ij  displaystyle sum _jt_ijt_isum _it_ijt_j 1  1 displaystyle k_ifrac 1sum _jk_jt_jfc_ijk_jfrac 1sum _ik_it_ifc_ij displaystyle t_ij trips origin destination displaystyle t_i trips originating displaystyle t_j trips destined displaystyle c_ij travel cost  displaystyle k_ik_j balancing factors solved iteratively iterative proportional fitting displaystyle distance decay factor accessibility model doubly constrained sense total number trips predicted model mechanically parameter values equals real total number trips similarly total number trips predicted model equals real total number trips entropy analysisedit wilson 1970 think zonal interchange problem section treats wilsons methodology give grasp central ideas start consider trips people origin zones commuting jobs destination zones configuration trips table configuration trips zone 1 2 3 1 2 1 1 2 0 2 1 7 2 1 1 0 2 1 1260 displaystyle wleftt_ijrightfrac 72110211260 01 configuration 1,260 ways calculated number ways configuration trips occurred explain calculation lets recall coin tossing experiments talked elementary statistics number ways two-sided coin come 2 displaystyle 2n  number times toss coin toss coin come heads tails 2 1 2 displaystyle 212  toss come hh ht th tt ways 2 2 4 displaystyle 224  ask specific question say coins coming heads calculate 4 4 0 1 displaystyle 4401  heads tails 4 2 2 6 displaystyle 4226  solving equation 1 displaystyle wfrac nprod _i1nn_i important point larger distribution peaked reasonable think likely state notion likely state comes thinking comes statistical mechanics field known wilson known transportation planners result statistical mechanics descending series likely think energy lights classroom affecting air classroom effect resulted ascending series atoms molecules affected lot affected descending series affected affected take level energy compute excitation levels ascending descending series formula compute ways series occur conclude descending series dominate more-or-less boltzmanns law 0 displaystyle p_jp_0ebeta e_j particles excitation level negative exponential function particles ground state 0 displaystyle p_0  excitation level displaystyle e_j  parameter displaystyle beta  function average energy particles system paragraphs ensemble methods calculation developed gibbs topic reach notes returning o-d matrix note information survey earlier work trip generation travel pattern o-d matrix row column totals table illustrative o-d matrix row column totals zone 1 2 3 zone ti tj 2 3 2 1 4 2 1 1 2 3 0 2 1 consider folks travel 4211 12 consider folks 3021 3 travel combined 123 36 ways configuration trips seen constrained column row totals put point earlier work matrix notion likely state say want max displaystyle max wleftt_ijrightfrac tprod _ijtij subject displaystyle sum _jt_ijt_isum _it_ijt_j displaystyle tsum _jsum _it_ijsum _it_isum _jt_j problem solved wilson adds consideration constrains system amount energy money additional constraint displaystyle sum _isum _jt_ijc_ijc quantity resources displaystyle c_ij travel cost discussion central ideas wilsons work place reader recognize model formulated wilson writing displaystyle lambda function maximized lagrangian multipliers   displaystyle lambda t_ijlambda _ilambda _jfrac tprod _ijtijsum _ilambda _ileftt_i-sum _jt_ijrightsum _jlambda _jleftt_j-sum _it_ijrightbeta leftc-sum _isum _jt_ijc_ijright  displaystyle lambda _ilambda _j displaystyle beta lagrange multipliers displaystyle beta energy sense convenient maximize natural log ln displaystyle wt_ij  stirlings approximation ln ln displaystyle ln napprox nln n-n ln ln displaystyle frac partial ln npartial napprox ln evaluating maximum   ln 0 displaystyle frac partial lambda t_ijlambda _ilambda _jpartial t_ij-ln t_ij-lambda _i-lambda _j-beta c_ij0 solution ln displaystyle ln t_ij-lambda _i-lambda _j-beta c_ij displaystyle t_ije-lambda _i-lambda _j-beta c_ij finally substituting displaystyle t_ij back constraint equations displaystyle sum _je-lambda _i-lambda _j-beta c_ijt_isum _ie-lambda _i-lambda _j-beta c_ijt_j taking constant multiples summation sign displaystyle e-lambda _ifrac t_isum _je-lambda _j-beta c_ije-lambda _jfrac t_jsum _ie-lambda _i-beta c_ij let displaystyle frac e-lambda _it_ia_ifrac e-lambda _jt_jb_j displaystyle t_ija_ib_jt_it_je-beta c_ij says probable distribution trips gravity model form displaystyle t_ij proportional trip origins destinations constants displaystyle a_i  displaystyle b_j  displaystyle beta ensure constraints met turning computation large problem know earlier money cost constraint set displaystyle beta values find set values displaystyle a_i displaystyle b_j  know displaystyle beta means greater displaystyle beta  cost average distance traveled compare displaystyle beta boltzmanns law noted earlier values displaystyle a_i displaystyle b_j depend displaystyle beta  iterative solution computer programs wilsons method applied lowry model issuesedit congestionedit key drawbacks application early models inability take account congested travel time road network determining probability making trip locations wohl noted early 1963 research feedback mechanism interdependencies assigned distributed volume travel time travel resistance route system capacity work widely adopted rigorous tests convergence so-called equilibrium combined solution boyce al 1994 haney 1972 suggests internal assumptions travel time develop demand consistent output travel times route assignment demand small methodological inconsistencies necessarily problem estimating base year conditions forecasting tenuous understanding feedback supply demand initially heuristic methods developed irwin von cube quoted florian al 1975 later formal mathematical programming techniques established evans 1976 stability travel timesedit key point analyzing feedback finding earlier research levinson kumar 1994 commuting times remained stable past thirty years washington metropolitan region despite significant household income land pattern family structure labor force participation similar results found twin cities barnes davis 2000 stability travel times distribution curves past decadeswhen good basis application aggregate trip distribution models long term forecasting suggest exists constant travel time budget alsoedit environmental impact aviation hypermobility travel footnotesedit referencesedit allen 1984 trip distribution composite impedance transportation research record 944 pp118127 barnes davis 2000 understanding urban travel demand problems solutions role forecasting university minnesota center transportation studies transportation regional growth study ben-akiva lerman 1985 discrete choice analysis mit press cambridge ma boyce lupa zhang yf 1994 introducing feedback four-step travel forecasting procedure equilibrium solution combined model presented 73rd annual meeting transportation research board evans suzanne 1976  derivation analysis models combining trip distribution assignment transportation research vol 10 pp 3757 1976 florian nguyen ferland 1975 combined distribution-assignment traffic transportation science vol 9 pp4353 1975 haney 1972 consistency transportation demand evaluation models highway research record 392 pp1325 1972 hansen 1959 accessibility shapes land journal american institute planners 252 7376 heanue kevin pyers clyde 1966 comparative evaluation trip distribution procedures levinson kumar 1994 rational locator travel times remained stable journal american planning association 603 319332 levinson kumar 1995 multi-modal trip distribution model transportation research record 1466 124131 portland mpo report federal transit administration transit modeling reilly wj 1929 methods study retail relationships university texas bulletin 2944 nov 1929 reilly wj 1931 law retail gravitation york ruiter 1967 improvements understanding calibrating applying opportunity model highway research record 165 pp121 stewart jq 1948 demographic gravitation evidence application sociometry vol xi febmay 1948 pp 3158 stewart jq 1947 empirical mathematical rules concerning distribution equilibrium population geographical review vol 37 461486 stewart jq 1950 potential population relationship marketing theory marketing cox alderson eds richard irwin homewood illinois stewart jq 1950 development social physics american journal physics vol 18 239253 voorhees alan 1956 general theory traffic movement 1955 proceedings institute traffic engineers haven connecticut whitaker west 1968 intervening opportunities model theoretical consideration highway research record 250 pp17 wilson ag statistical theory spatial distribution models transportation research volume 1 pp253269 1967 wohl 1963 demand cost price capacity relationships applied travel forecasting highway research record 384054 zipf 1946 hypothesis intercity movement persons american sociological review vol 11 oct zipf 1949 human behaviour principle effort massachusetts urban transportation planning system land forecasting transportation forecasting trip generation trip distribution mode choice route assignment 